{"ast":null,"code":"import _regeneratorRuntime from\"C:/Projects/whosin/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Projects/whosin/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Projects/whosin/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Projects/whosin/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Projects/whosin/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Table,Container}from'react-bootstrap';import{ghUserData}from'../Services/userapi';import Tasklist from'../components/Tasklist';import Searchbar from'../components/Searchbar';import{useCookies}from'react-cookie';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Dashboardgh=function Dashboardgh(props){var _useCookies=useCookies([]),_useCookies2=_slicedToArray(_useCookies,2),cookies=_useCookies2[0],setCookie=_useCookies2[1];var loggedInUserId=\"\";var storedData=JSON.parse(localStorage.getItem(\"MyUser\"));if(storedData){loggedInUserId=storedData.user_id;if(!cookies.userid){setCookie('userid',loggedInUserId,{path:'/'});}}var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loader=_useState2[0],setLoader=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),userlist=_useState4[0],setUserlist=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),dateseven=_useState6[0],setDateseven=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),tasklist=_useState8[0],setTasklist=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),AllUserlist=_useState10[0],setAllUserlist=_useState10[1];var _useState11=useState({start_date:new Date(new Date().getTime()-6*24*60*60*1000),end_date:new Date(),resource:\"\",gh_id:loggedInUserId}),_useState12=_slicedToArray(_useState11,2),searchval=_useState12[0],setSearchval=_useState12[1];var statefromchild=function statefromchild(newValue,statename){setSearchval(_objectSpread(_objectSpread({},searchval),{},_defineProperty({},statename,newValue)));};var datasevendays=function datasevendays(){var no_of_days;var today;var dd;var mm;var yyyy;var result=[];if(searchval.start_date&&searchval.start_date!==''&&searchval.start_date!==null&&searchval.end_date&&searchval.end_date!==''&&searchval.end_date!==null){no_of_days=props.getDifferenceInDays(new Date(props.datconverted(searchval.start_date)),new Date(props.datconverted(searchval.end_date)));today=props.datconverted(new Date(searchval.end_date));}else if(searchval.start_date&&searchval.start_date!==''&&searchval.start_date!==null&&(searchval.end_date===''||searchval.end_date===null)){no_of_days=props.getDifferenceInDays(new Date(props.datconverted(searchval.start_date)),new Date(props.datconverted(new Date())));today=props.datconverted(new Date());}else if((searchval.start_date===''||searchval.start_date===null)&&searchval.end_date&&searchval.end_date!==''&&searchval.end_date!==null){no_of_days=props.getDifferenceInDays(new Date(props.datconverted(new Date(searchval.end_date.getTime()-30*24*60*60*1000))),new Date(props.datconverted(searchval.end_date)));today=props.datconverted(new Date(searchval.end_date));}else{no_of_days='6';today=props.datconverted(new Date());}//alert(no_of_days)\nfor(var i=0;i<=no_of_days;i++){var d=new Date(today);d.setDate(d.getDate()-i);dd=d.getDate();mm=d.getMonth()+1;yyyy=d.getFullYear();if(dd<10){dd='0'+dd;}if(mm<10){mm='0'+mm;}var datefinal=yyyy+'-'+mm+'-'+dd;result.push(datefinal);}setDateseven(result);};/*useEffect(() => {\r\n        datasevendays();\r\n    }, [])*/var getUserList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoader(true);//alert(\"Now Loader turn off\");\n_context.next=3;return ghUserData(searchval);case 3:res=_context.sent;//console.log(res.data.tasklistdata)\nif(res.data.message==='user list fetched'){setAllUserlist(res.data.userdatalist);setUserlist(res.data.userdata);setTasklist(res.data.tasklistdata);}else{alert(res.data.message);}setLoader(false);case 6:case\"end\":return _context.stop();}}},_callee);}));return function getUserList(){return _ref.apply(this,arguments);};}();useEffect(function(){datasevendays();getUserList();},[]);// eslint-disable-line react-hooks/exhaustive-deps\n//console.log(searchval);\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"login\",style:{marginTop:'90px',width:'95%',overflow:'overlay',maxWidth:'95%'},children:/*#__PURE__*/_jsx(Searchbar,{start_date:searchval.start_date,end_date:searchval.end_date,resource:searchval.resource,onchange:statefromchild,datasevendays:datasevendays,getUserList:getUserList,AllUserlistdata:AllUserlist,loader:loader})}),loader?/*#__PURE__*/_jsx(Container,{style:{textAlign:'center'},children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/ajax-spinner.gif\",alt:\"Loader\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"outsider\",style:{marginTop:'-75px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"login scroll\",style:{maxWidth:'95%'},children:/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,size:\"sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{width:'25%',textAlign:'center'},children:\"Team Members\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'25%',textAlign:'center'},children:\"12PM\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'25%',textAlign:'center'},children:\"3PM\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'25%',textAlign:'center'},children:\"6PM\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dateseven.map(function(dataval,indexdate){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{style:{textAlign:'center',backgroundColor:'lightskyblue'},colSpan:\"4\",children:dataval})}),userlist.map(function(userdata,index){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[userdata.name,\"\\xA0(\",userdata.employee_code,\")\"]}),tasklist.map(function(taskdata,indextask){return/*#__PURE__*/_jsx(Tasklist,{dateblock:dataval,userid:userdata.user_id,tasklist:taskdata},indextask);})]}),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\"})})]},index);})]},indexdate);})})]})})})]});};export default Dashboardgh;","map":{"version":3,"sources":["C:/Projects/whosin/Frontend/src/components/Dashboardgh.js"],"names":["React","useState","useEffect","Table","Container","ghUserData","Tasklist","Searchbar","useCookies","Dashboardgh","props","cookies","setCookie","loggedInUserId","storedData","JSON","parse","localStorage","getItem","user_id","userid","path","loader","setLoader","userlist","setUserlist","dateseven","setDateseven","tasklist","setTasklist","AllUserlist","setAllUserlist","start_date","Date","getTime","end_date","resource","gh_id","searchval","setSearchval","statefromchild","newValue","statename","datasevendays","no_of_days","today","dd","mm","yyyy","result","getDifferenceInDays","datconverted","i","d","setDate","getDate","getMonth","getFullYear","datefinal","push","getUserList","res","data","message","userdatalist","userdata","tasklistdata","alert","marginTop","width","overflow","maxWidth","textAlign","map","dataval","indexdate","backgroundColor","index","name","employee_code","taskdata","indextask"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Table, Container } from 'react-bootstrap'\r\nimport { ghUserData } from '../Services/userapi'\r\nimport Tasklist from '../components/Tasklist';\r\nimport Searchbar from '../components/Searchbar';\r\nimport { useCookies } from 'react-cookie';\r\nconst Dashboardgh = (props) => {\r\n    const [cookies, setCookie] = useCookies([]);\r\n    let loggedInUserId = \"\";\r\n    const storedData = JSON.parse(localStorage.getItem(\"MyUser\"));\r\n    if (storedData) {\r\n        loggedInUserId = storedData.user_id;\r\n        if(!cookies.userid){\r\n            setCookie('userid', loggedInUserId, { path: '/' });\r\n        }\r\n    }\r\n    const [loader, setLoader] = useState(false);\r\n    const [userlist, setUserlist] = useState([]);\r\n    const [dateseven, setDateseven] = useState([]);\r\n    const [tasklist, setTasklist] = useState([]);\r\n    const [AllUserlist, setAllUserlist] = useState([]);\r\n    const [searchval, setSearchval] = useState({\r\n        start_date: new Date(new Date().getTime() - (6 * 24 * 60 * 60 * 1000)),\r\n        end_date: new Date(),\r\n        resource: \"\",\r\n        gh_id: loggedInUserId\r\n    })\r\n    const statefromchild = (newValue, statename) => {\r\n        setSearchval({\r\n            ...searchval,\r\n            [statename]: newValue\r\n        })\r\n    }\r\n    const datasevendays = () => {\r\n        var no_of_days;\r\n        var today; var dd; var mm; var yyyy;\r\n        var result = [];\r\n        if ((searchval.start_date && searchval.start_date !== '' && searchval.start_date !== null) && (searchval.end_date && searchval.end_date !== '' && searchval.end_date !== null)) {\r\n            no_of_days = props.getDifferenceInDays(new Date(props.datconverted(searchval.start_date)), new Date(props.datconverted(searchval.end_date)));\r\n            today = props.datconverted(new Date(searchval.end_date));\r\n        } else if ((searchval.start_date && searchval.start_date !== '' && searchval.start_date !== null) && (searchval.end_date === '' || searchval.end_date === null)) {\r\n            no_of_days = props.getDifferenceInDays(new Date(props.datconverted(searchval.start_date)), new Date(props.datconverted(new Date())));\r\n            today = props.datconverted(new Date());\r\n        } else if ((searchval.start_date === '' || searchval.start_date === null) && (searchval.end_date && searchval.end_date !== '' && searchval.end_date !== null)) {\r\n            no_of_days = props.getDifferenceInDays(new Date(props.datconverted(new Date(searchval.end_date.getTime() - (30 * 24 * 60 * 60 * 1000)))), new Date(props.datconverted(searchval.end_date)));\r\n            today = props.datconverted(new Date(searchval.end_date));\r\n        } else {\r\n            no_of_days = '6';\r\n            today = props.datconverted(new Date());\r\n        }\r\n        //alert(no_of_days)\r\n        for (var i = 0; i <= no_of_days; i++) {\r\n            var d = new Date(today);\r\n            d.setDate(d.getDate() - i);\r\n            dd = d.getDate();\r\n            mm = d.getMonth() + 1;\r\n            yyyy = d.getFullYear();\r\n            if (dd < 10) { dd = '0' + dd }\r\n            if (mm < 10) { mm = '0' + mm }\r\n            var datefinal = yyyy + '-' + mm + '-' + dd;\r\n            result.push(datefinal)\r\n        }\r\n        setDateseven(result);\r\n    }\r\n    /*useEffect(() => {\r\n        datasevendays();\r\n    }, [])*/\r\n    const getUserList = async () => {\r\n        setLoader(true);\r\n        //alert(\"Now Loader turn off\");\r\n        let res = await ghUserData(searchval);\r\n        //console.log(res.data.tasklistdata)\r\n        if (res.data.message === 'user list fetched') {\r\n            setAllUserlist(res.data.userdatalist)\r\n            setUserlist(res.data.userdata)\r\n            setTasklist(res.data.tasklistdata)\r\n        } else {\r\n            alert(res.data.message)\r\n        }\r\n        setLoader(false)\r\n    }\r\n    useEffect(() => {\r\n        datasevendays();\r\n        getUserList();\r\n    }, []) // eslint-disable-line react-hooks/exhaustive-deps\r\n    //console.log(searchval);\r\n    return (\r\n        <>\r\n            <div className=\"login\" style={{ marginTop: '90px', width: '95%', overflow: 'overlay', maxWidth: '95%' }}>\r\n                <Searchbar start_date={searchval.start_date} end_date={searchval.end_date} resource={searchval.resource} onchange={statefromchild} datasevendays={datasevendays} getUserList={getUserList} AllUserlistdata={AllUserlist} loader={loader} />\r\n            </div>\r\n            {  loader ? <Container style={{ textAlign: 'center' }}><img src=\"/images/ajax-spinner.gif\" alt=\"Loader\" /></Container> :\r\n            <div className=\"outsider\" style={{ marginTop: '-75px' }}>\r\n                <div className=\"login scroll\" style={{ maxWidth: '95%' }}>\r\n                    <Table striped bordered hover size=\"sm\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th style={{ width: '25%', textAlign: 'center' }}>Team Members</th>\r\n                                <th style={{ width: '25%', textAlign: 'center' }}>12PM</th>\r\n                                <th style={{ width: '25%', textAlign: 'center' }}>3PM</th>\r\n                                <th style={{ width: '25%', textAlign: 'center' }}>6PM</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                dateseven.map((dataval, indexdate) =>\r\n                                    <React.Fragment key={indexdate}>\r\n                                        <tr>\r\n                                            <th style={{ textAlign: 'center', backgroundColor: 'lightskyblue' }} colSpan=\"4\">{dataval}</th>\r\n                                        </tr>\r\n                                        {\r\n                                            userlist.map((userdata, index) =>\r\n                                                <React.Fragment key={index}>\r\n                                                    <tr>\r\n                                                        <td>{userdata.name}&nbsp;({userdata.employee_code})</td>\r\n                                                        {\r\n                                                            tasklist.map((taskdata, indextask) =>\r\n                                                                <Tasklist key={indextask} dateblock={dataval} userid={userdata.user_id} tasklist={taskdata} />\r\n                                                            )\r\n                                                        }\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td colSpan=\"4\"></td>\r\n                                                    </tr>\r\n                                                </React.Fragment>\r\n                                            )\r\n                                        }\r\n                                    </React.Fragment>\r\n                                )\r\n                            }\r\n                        </tbody>\r\n                    </Table>\r\n                </div>\r\n            </div> }\r\n        </>\r\n    )\r\n}\r\nexport default Dashboardgh;"]},"metadata":{},"sourceType":"module"}