{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\Login_Register_App\\\\login-and-register-frontend\\\\src\\\\components\\\\Solsearchresult.js\",\n    _s = $RefreshSig$();\n\nimport { Table, Container, DropdownButton, Dropdown, Button, Pagination, Spinner } from 'react-bootstrap';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport Solicitation from './Solicitation';\nimport { getSoldata } from '../Services/solicitationapi';\nimport \"./paginationstyle.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Solsearchresult = props => {\n  _s();\n\n  const history = useHistory();\n  const location = useLocation();\n  const [loader, setLoader] = useState(false);\n  const [fbofinaldata, setFbofinaldata] = useState([]); // Total Count State\n\n  const [resultcount, setResultcount] = useState(0); // Pagination Code Starts Here\n\n  const pageNumberLimit = 10;\n  const [currentPage, setcurrentPage] = useState(1);\n  const [itemsPerPage, setitemsPerPage] = useState(10); //const [pageNumberLimit, setpageNumberLimit] = useState(10);\n\n  const [maxPageNumberLimit, setmaxPageNumberLimit] = useState(10);\n  const [minPageNumberLimit, setminPageNumberLimit] = useState(0);\n\n  const handleClick = event => {\n    setcurrentPage(Number(event.target.id));\n  };\n\n  const pages = [];\n\n  for (let i = 1; i <= Math.ceil(fbofinaldata.length / itemsPerPage); i++) {\n    pages.push(i);\n  }\n\n  const indexOfLastItem = currentPage * itemsPerPage;\n  const indexOfFirstItem = indexOfLastItem - itemsPerPage;\n  const currentItems = fbofinaldata.slice(indexOfFirstItem, indexOfLastItem); //console.log(\"splice\", fbofinaldata.slice(indexOfFirstItem, indexOfLastItem))\n\n  const renderPageNumbers = pages.map(number => {\n    if (number < maxPageNumberLimit + 1 && number > minPageNumberLimit) {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        id: number,\n        onClick: handleClick,\n        className: currentPage === number ? \"active\" : null,\n        children: number\n      }, number, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this);\n    } else {\n      return null;\n    }\n  });\n\n  const handleNextbtn = () => {\n    setcurrentPage(currentPage + 1);\n\n    if (currentPage + 1 > maxPageNumberLimit) {\n      setmaxPageNumberLimit(maxPageNumberLimit + pageNumberLimit);\n      setminPageNumberLimit(minPageNumberLimit + pageNumberLimit);\n    }\n  };\n\n  const handlePrevbtn = () => {\n    setcurrentPage(currentPage - 1);\n\n    if ((currentPage - 1) % pageNumberLimit === 0) {\n      setmaxPageNumberLimit(maxPageNumberLimit - pageNumberLimit);\n      setminPageNumberLimit(minPageNumberLimit - pageNumberLimit);\n    }\n  };\n\n  let pageIncrementBtn = null;\n\n  if (pages.length > maxPageNumberLimit) {\n    pageIncrementBtn = /*#__PURE__*/_jsxDEV(\"li\", {\n      onClick: handleNextbtn,\n      children: \" \\u2026 \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 28\n    }, this);\n  }\n\n  let pageDecrementBtn = null;\n\n  if (minPageNumberLimit >= 1) {\n    pageDecrementBtn = /*#__PURE__*/_jsxDEV(\"li\", {\n      onClick: handlePrevbtn,\n      children: \" \\u2026 \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 28\n    }, this);\n  }\n  /*\r\n  const handleLoadMore = () => {\r\n      setitemsPerPage(itemsPerPage + 5);\r\n  };\r\n  */\n  // Pagination Code Ends Here\n  // Check if localstorage is set or not. If not set than redirect to the home page\n\n\n  useEffect(() => {\n    document.title = 'Solicitation Search Result';\n    const storedData = JSON.parse(localStorage.getItem(\"MyUser\"));\n\n    if (!storedData._id) {\n      history.push(\"/\");\n    }\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const Solsearchresult = async () => {\n    setLoader(true);\n    const response = await getSoldata(location.data);\n\n    if (response.data.message && response.data.message === 'Data fetched Successfully') {\n      console.log(response.data.fbodata);\n      setResultcount(response.data.fbodata.length);\n      setFbofinaldata(response.data.fbodata);\n    } else {\n      alert(response.data.message);\n    }\n\n    setLoader(false);\n  };\n\n  useEffect(() => {\n    Solsearchresult();\n  }, [location.data]);\n\n  function formatDate(date) {\n    var d = new Date(date),\n        month = '' + (d.getMonth() + 1),\n        day = '' + d.getDate(),\n        year = d.getFullYear();\n    if (month.length < 2) month = '0' + month;\n    if (day.length < 2) day = '0' + day;\n    return [year, month, day].join('-');\n  } //console.log(\"Current\", currentItems);\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      className: \"maindivmargin\",\n      style: {\n        textAlign: 'center'\n      },\n      children: [loader ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/images/ajax-spinner.gif\",\n        alt: \"Loader\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 30\n      }, this) : /*#__PURE__*/_jsxDEV(Solicitation, {\n        searchoption: props.searchoption,\n        searchimage: props.searchimage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 84\n      }, this), !loader ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '100%',\n            minHeight: '50px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '38%',\n              float: 'left',\n              marginTop: '2%',\n              textAlign: 'left'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Solicitation List\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 113\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '48%',\n              float: 'right',\n              marginTop: '2%',\n              textAlign: 'right'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              children: [resultcount, \" Results Found\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 116\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '2%'\n          },\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            responsive: true,\n            striped: true,\n            bordered: true,\n            hover: true,\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"#\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Posted Date \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Subject \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Solnbr# \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Agency/Office \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Naics/PSC \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: currentItems.map((datafbo, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: i + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: formatDate(datafbo.date)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: datafbo.subject\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: datafbo.solnbr\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [datafbo.agency, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 73\n                  }, this), datafbo.office]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [datafbo.naics, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 72\n                  }, this), datafbo.classcod]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 53\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 49\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '30px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"pageNumbers\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handlePrevbtn,\n                  disabled: currentPage === pages[0] ? true : false,\n                  children: \"Prev\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 41\n              }, this), pageDecrementBtn, /*#__PURE__*/_jsxDEV(Pagination, {\n                size: \"sm\",\n                children: renderPageNumbers\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 41\n              }, this), pageIncrementBtn, /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleNextbtn,\n                  disabled: currentPage === pages[pages.length - 1] ? true : false,\n                  children: \"Next\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true) : \"\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(Solsearchresult, \"X8Er9/8S4oUn6XZOGPdfFbk8J0U=\", false, function () {\n  return [useHistory, useLocation];\n});\n\n_c = Solsearchresult;\nexport default Solsearchresult;\n\nvar _c;\n\n$RefreshReg$(_c, \"Solsearchresult\");","map":{"version":3,"sources":["C:/Projects/Login_Register_App/login-and-register-frontend/src/components/Solsearchresult.js"],"names":["Table","Container","DropdownButton","Dropdown","Button","Pagination","Spinner","React","useEffect","useState","useHistory","useLocation","Solicitation","getSoldata","Solsearchresult","props","history","location","loader","setLoader","fbofinaldata","setFbofinaldata","resultcount","setResultcount","pageNumberLimit","currentPage","setcurrentPage","itemsPerPage","setitemsPerPage","maxPageNumberLimit","setmaxPageNumberLimit","minPageNumberLimit","setminPageNumberLimit","handleClick","event","Number","target","id","pages","i","Math","ceil","length","push","indexOfLastItem","indexOfFirstItem","currentItems","slice","renderPageNumbers","map","number","handleNextbtn","handlePrevbtn","pageIncrementBtn","pageDecrementBtn","document","title","storedData","JSON","parse","localStorage","getItem","_id","response","data","message","console","log","fbodata","alert","formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","join","textAlign","searchoption","searchimage","width","minHeight","float","marginTop","datafbo","subject","solnbr","agency","office","naics","classcod"],"mappings":"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","sourcesContent":["import { Table, Container, DropdownButton, Dropdown, Button, Pagination, Spinner } from 'react-bootstrap'\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport Solicitation from './Solicitation';\r\nimport { getSoldata } from '../Services/solicitationapi'\r\nimport \"./paginationstyle.css\";\r\nconst Solsearchresult = (props) => {\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const [loader, setLoader] = useState(false);\r\n    const [fbofinaldata, setFbofinaldata] = useState([]);\r\n    // Total Count State\r\n    const [resultcount, setResultcount] = useState(0);\r\n    // Pagination Code Starts Here\r\n\r\n    const pageNumberLimit = 10;\r\n\r\n    const [currentPage, setcurrentPage] = useState(1);\r\n    const [itemsPerPage, setitemsPerPage] = useState(10);\r\n    //const [pageNumberLimit, setpageNumberLimit] = useState(10);\r\n    const [maxPageNumberLimit, setmaxPageNumberLimit] = useState(10);\r\n    const [minPageNumberLimit, setminPageNumberLimit] = useState(0);\r\n    const handleClick = (event) => {\r\n        setcurrentPage(Number(event.target.id));\r\n    };\r\n    const pages = [];\r\n    for (let i = 1; i <= Math.ceil(fbofinaldata.length / itemsPerPage); i++) {\r\n        pages.push(i);\r\n    }\r\n    const indexOfLastItem = currentPage * itemsPerPage;\r\n    const indexOfFirstItem = indexOfLastItem - itemsPerPage;\r\n    const currentItems = fbofinaldata.slice(indexOfFirstItem, indexOfLastItem);\r\n    //console.log(\"splice\", fbofinaldata.slice(indexOfFirstItem, indexOfLastItem))\r\n    const renderPageNumbers = pages.map((number) => {\r\n        if (number < maxPageNumberLimit + 1 && number > minPageNumberLimit) {\r\n            return (\r\n                <li\r\n                    key={number}\r\n                    id={number}\r\n                    onClick={handleClick}\r\n                    className={currentPage === number ? \"active\" : null}\r\n                >\r\n                    {number}\r\n                </li>\r\n            );\r\n        } else {\r\n            return null;\r\n        }\r\n    });\r\n    const handleNextbtn = () => {\r\n        setcurrentPage(currentPage + 1);\r\n        if (currentPage + 1 > maxPageNumberLimit) {\r\n            setmaxPageNumberLimit(maxPageNumberLimit + pageNumberLimit);\r\n            setminPageNumberLimit(minPageNumberLimit + pageNumberLimit);\r\n        }\r\n    };\r\n    const handlePrevbtn = () => {\r\n        setcurrentPage(currentPage - 1);\r\n        if ((currentPage - 1) % pageNumberLimit === 0) {\r\n            setmaxPageNumberLimit(maxPageNumberLimit - pageNumberLimit);\r\n            setminPageNumberLimit(minPageNumberLimit - pageNumberLimit);\r\n        }\r\n    };\r\n    let pageIncrementBtn = null;\r\n    if (pages.length > maxPageNumberLimit) {\r\n        pageIncrementBtn = <li onClick={handleNextbtn}> &hellip; </li>;\r\n    }\r\n    let pageDecrementBtn = null;\r\n    if (minPageNumberLimit >= 1) {\r\n        pageDecrementBtn = <li onClick={handlePrevbtn}> &hellip; </li>;\r\n    }\r\n    /*\r\n    const handleLoadMore = () => {\r\n        setitemsPerPage(itemsPerPage + 5);\r\n    };\r\n    */\r\n    // Pagination Code Ends Here\r\n\r\n    // Check if localstorage is set or not. If not set than redirect to the home page\r\n    useEffect(() => {\r\n        document.title = 'Solicitation Search Result';\r\n        const storedData = JSON.parse(localStorage.getItem(\"MyUser\"));\r\n        if (!storedData._id) {\r\n            history.push(\"/\");\r\n        }\r\n    }, [])   // eslint-disable-line react-hooks/exhaustive-deps\r\n    const Solsearchresult = async () => {\r\n        setLoader(true)\r\n        const response = await getSoldata(location.data)\r\n        if (response.data.message && response.data.message === 'Data fetched Successfully') {\r\n            console.log(response.data.fbodata)\r\n            setResultcount(response.data.fbodata.length);\r\n            setFbofinaldata(response.data.fbodata);\r\n        } else {\r\n            alert(response.data.message)\r\n        }\r\n        setLoader(false)\r\n    }\r\n    useEffect(() => {\r\n        Solsearchresult();\r\n    }, [location.data])\r\n    \r\n    function formatDate(date) {\r\n        var d = new Date(date),\r\n            month = '' + (d.getMonth() + 1),\r\n            day = '' + d.getDate(),\r\n            year = d.getFullYear();\r\n    \r\n        if (month.length < 2) \r\n            month = '0' + month;\r\n        if (day.length < 2) \r\n            day = '0' + day;\r\n    \r\n        return [year, month, day].join('-');\r\n    }\r\n    //console.log(\"Current\", currentItems);\r\n    return (\r\n        <>\r\n            <Container className=\"maindivmargin\" style={{ textAlign: 'center' }}>\r\n                {\r\n                    loader ? <img src=\"/images/ajax-spinner.gif\" alt=\"Loader\" /> : <Solicitation searchoption={props.searchoption} searchimage={props.searchimage} />\r\n                }\r\n                {\r\n                    !loader ?\r\n                        <>\r\n                            <div style={{ width: '100%', minHeight:'50px' }}>\r\n                                <div style={{ width: '38%', float: 'left', marginTop: '2%', textAlign:'left' }}><h5>Solicitation List</h5></div>\r\n                                <div style={{ width: '48%', float: 'right', marginTop: '2%', textAlign: 'right' }}><h5>{resultcount} Results Found</h5></div>\r\n                            </div>\r\n                            <div style={{marginTop:'2%'}}>\r\n                                <Table responsive striped bordered hover>\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th>#</th>\r\n                                            <th>Posted Date </th>\r\n                                            <th>Subject </th>\r\n                                            <th>Solnbr# </th>\r\n                                            <th>Agency/Office </th>\r\n                                            <th>Naics/PSC </th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        {\r\n                                            currentItems.map((datafbo, i) =>\r\n                                                <tr key={i}>\r\n                                                    <td>{i + 1}</td>\r\n                                                    <td>{formatDate(datafbo.date)}</td>\r\n                                                    <td>{datafbo.subject}</td>\r\n                                                    <td>{datafbo.solnbr}</td>\r\n                                                    <td>{datafbo.agency}<br />{datafbo.office}</td>\r\n                                                    <td>{datafbo.naics}<br />{datafbo.classcod}</td>\r\n                                                </tr>\r\n                                            )\r\n                                        }\r\n                                    </tbody>\r\n                                </Table>\r\n                            </div>\r\n                            <div>\r\n                                <div style={{ marginTop: '30px' }}>\r\n                                    <ul className=\"pageNumbers\">\r\n                                        <li>\r\n                                            <button\r\n                                                onClick={handlePrevbtn}\r\n                                                disabled={currentPage === pages[0] ? true : false}\r\n                                            >\r\n                                                Prev\r\n                                            </button>\r\n                                        </li>\r\n                                        {pageDecrementBtn}\r\n                                        <Pagination size=\"sm\">{renderPageNumbers}</Pagination>\r\n                                        {pageIncrementBtn}\r\n                                        <li>\r\n                                            <button\r\n                                                onClick={handleNextbtn}\r\n                                                disabled={currentPage === pages[pages.length - 1] ? true : false}\r\n                                            >\r\n                                                Next\r\n                                            </button>\r\n                                        </li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </> : \"\"\r\n                }\r\n            </Container>\r\n        </>\r\n    )\r\n}\r\nexport default Solsearchresult;"]},"metadata":{},"sourceType":"module"}